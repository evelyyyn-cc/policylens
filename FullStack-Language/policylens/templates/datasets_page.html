{% load i18n %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% trans "MyPolicyLens - Data Dashboard" %}</title>
    <!-- Import Inter font from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link rel="stylesheet" href="/static/assets/scss/main.css">
</head>
<body class="datasets-page">
    <!-- Header -->
    <!-- <div id="header-placeholder"></div> -->
    {% include "header.html" %}
        <!--<nav class="container">
            <a class="logo" href="index.html">
                <span>MY</span>PolicyLens
            </a>
            <div class="nav-links" id="navLinks">
                <a href="index.html" class="active">{% trans "HOME" %}</a>
                <a href="policies.html">{% trans "POLICY" %}</a>
                <a href="#">{% trans "FAQ" %}</a>
                <a href="#">{% trans "AI CHATBOT" %}</a>
            </div>
            <div class="language-selector">
                <div class="selected-language">
                    <span>BM</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <ul class="language-dropdown">
                    <li data-lang="bm" class="active">BM</li>
                    <li data-lang="en">EN</li>
                    <li data-lang="zh">ZH</li>
                    <li data-lang="ta">TA</li>
                </ul>
            </div>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav> -->
    <!--</header> -->

    <!-- Breadcrumb -->
    <div class="breadcrumb-container">
        <div class="container">
            <div class="breadcrumb">
                <a href="/index/">{% trans "Home" %}</a> > <a href="/policies/">{% trans "Policies" %}</a> > <a href="/diesel_policy/">{% trans "The Diesel Dilemma" %}</a> > <span>{% trans "Fuel Data Dashboard" %}</span>
            </div>
        </div>
    </div>

    <!-- Hero/Banner section -->
    <div class="hero-dataset">
        <h1>{% trans "Fuel Data Dashboard" %}</h1>
    </div>
    <!-- <section class="hero-fuel" style="background-image: url('/static/assets/images/fuel_data_page.svg');">
        <div class="hero-fuel-content">
            <h1 class="hero-fuel-title">{% trans "Fuel Data Dashboard" %}</h1>
        </div>
    </section> -->

    <!-- Dashboard Links Section -->
    <section class="dashboard-links">
        <div class="container">
            <a href="/diesel_policy/" class="dashboard-link impact-pages">
                <i class="fas fa-chart-line dashboard-icon"></i>
                {% trans "Diesel Dilemma" %}
            </a>
            <!-- <a href="#" class="dashboard-link">
                <i class="fas fa-home household-icon"></i>
                {% trans "Household Impact" %}
            </a> -->
            <a href="/cpi_dataset/" class="dashboard-link data-dashboard"">
                <i class="fas fa-tags price-icon"></i>
                {% trans "CPI Data Dashboard" %}
            </a>
            <a href="#" class="dashboard-link data-dashboard"">
                <i class="fas fa-industry manufacturing-icon"></i>
                {% trans "Manufacturing Data Dashboard" %}
            </a>
        </div>
    </section>

    <!-- Main content area -->
    <div class="container">
        <!-- Tab navigation - Horizontal tabs below hero -->
        <div class="main-tabs-fuel">
            <a href="#" class="tab-link-fuel active" data-tab="diesel-price-tab">{% trans "Diesel Price" %}</a>
            <a href="#" class="tab-link-fuel" data-tab="diesel-vehicles-tab">{% trans "Registered Vehicles" %}</a>
            <div class="tab-indicator-fuel"></div>
        </div>

        <!-- Diesel Price Dataset Tab -->
        <div class="tab-content active" id="diesel-price-tab">
            <section class="dashboard-section">
                <div class="section-header diesel-header">
                    <span class="title">{% trans "Fuel Price Dataset" %}</span>
                    <!-- <div class="external-link-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                            <polyline points="15 3 21 3 21 9"></polyline>
                            <line x1="10" y1="14" x2="21" y2="3"></line>
                        </svg>
                    </div> -->
                </div>
                <div class="section-content">
                    <div class="filter-row">
                        <div class="filter-dropdown">
                            <label>Year</label>
                            <div class="dropdown-select">
                                <span>All Years</span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </div>
                        </div>
                        <div class="filter-dropdown">
                            <label>Fuel Type</label>
                            <div class="dropdown-select">
                                <span>All Type</span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="diesel-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #6c757d;"></div>
                            <span>{% trans "Diesel" %}</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #0d47a1;"></div>
                            <span>{% trans "Diesel East" %}</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #4fc3f7;"></div>
                            <span>RON95</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #5c6bc0;"></div>
                            <span>RON97</span>
                        </div>
                    </div>

                    <div class="chart-type-toggle">
                        <button class="toggle-btn active" data-chart="line">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M3 3v18h18"></path>
                                <path d="M18 8l-7 6-4-3-4 3"></path>
                            </svg>
                            {% trans "Line" %}
                        </button>
                        <button class="toggle-btn" data-chart="bar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="12" width="6" height="8"></rect>
                                <rect x="9" y="8" width="6" height="12"></rect>
                                <rect x="15" y="4" width="6" height="16"></rect>
                            </svg>
                            {% trans "Bar" %}
                        </button>
                    </div>

                    <div class="chart-container">
                        <canvas id="dieselPriceChart"></canvas>
                    </div>

                    <h3 class="section-subheader">{% trans "Regional Price Comparison" %}</h3>
                    <p class="section-description">{% trans "Compare diesel prices across different regions after the subsidy reform" %}</p>

                    <div class="chart-container">
                        <canvas id="regionalComparisonChart"></canvas>
                    </div>

                    <div class="data-citation">
                        <strong>{% trans "Data Source:" %}</strong> {% trans "data.gov.my, 2017-2025" %}<br>
                        <strong>{% trans "URL:" %}</strong> <a href="https://data.gov.my/data-catalogue/fuelprice" target="_blank">https://data.gov.my/data-catalogue/fuelprice</a><br>
                        <strong>{% trans "Methodology:" %}</strong> {% trans "Weekly fuel prices were collected from official goverment data centers." %}
                    </div>
                </div>
            </section>
        </div>

        <!-- Registered Diesel Vehicles Tab -->
        <div class="tab-content" id="diesel-vehicles-tab">
            <section class="dashboard-section">
                <div class="section-header diesel-header">
                    <span class="title">{% trans "Registered Vehicles Dataset" %}</span>
                    <!-- <div class="external-link-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                            <polyline points="15 3 21 3 21 9"></polyline>
                            <line x1="10" y1="14" x2="21" y2="3"></line>
                        </svg>
                    </div> -->
                </div>
                <div class="section-content">
                    <div class="filter-row">
                        <div class="filter-dropdown">
                            <label>Year</label>
                            <div class="dropdown-select">
                                <span>All Years</span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </div>
                        </div>
                        <div class="filter-dropdown">
                            <label>Region</label>
                            <div class="dropdown-select">
                                <span>All Regions</span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="chart-type-toggle">
                        <button class="toggle-btn active" data-chart="bar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="12" width="6" height="8"></rect>
                                <rect x="9" y="8" width="6" height="12"></rect>
                                <rect x="15" y="4" width="6" height="16"></rect>
                            </svg>
                            {% trans "Bar" %}
                        </button>
                        <button class="toggle-btn" data-chart="line">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M3 3v18h18"></path>
                                <path d="M18 8l-7 6-4-3-4 3"></path>
                            </svg>
                            {% trans "Line" %}
                        </button>
                    </div>

                    <div class="chart-container border-container">
                        <h3 class="chart-title">{% trans "Vehicle Types Distribution (2024)" %}</h3>
                        <canvas id="vehicleTypesChart"></canvas>
                    </div>

                    <div class="legend-container">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #4fc3f7;"></div>
                            <span>{% trans "Total Registered Diesel Vehicles" %}</span>
                        </div>
                    </div>

                    <div class="chart-container">
                        <canvas id="totalRegisteredVehiclesChart"></canvas>
                    </div>

                    <div class="data-citation">
                        <strong>{% trans "Data Source:" %}</strong> {% trans "data.gov.my, 2000-2025" %}<br>
                        <strong>{% trans "URL:" %}</strong> <a href="https://data.gov.my/data-catalogue/registration_transactions_car" target="_blank">https://data.gov.my/data-catalogue/registration_transactions_car</a><br>
                        <strong>{% trans "Methodology:" %}</strong> {% trans "Vehicle registration records aggregated by type, state, and year. Updated monthly." %}
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Footer -->
    <!-- <div id="footer-placeholder"></div> -->
    {% include "footer.html" %}
    <!--<footer>
        <div class="container">
            <div class="footer-logo">
                <span>MY</span>PolicyLens
            </div>
            <div class="quick-links">
                <h3>{% trans "Quick Links" %}</h3>
                <a href="index.html#who-we-are">{% trans "About us" %}</a>
                <a href="#">{% trans "FAQ" %}</a>
            </div>
        </div>
    </footer> -->

    <script src="{% url 'javascript-catalog' %}"></script>
    <script src="/static/assets/js/datasets_page.js"></script>
    <script src="/static/assets/js/script.js"></script>
</body>
</html>