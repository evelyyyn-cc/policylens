<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link rel="stylesheet" href="/static/assets/scss/main.css">
    <title>CPI Datasets</title>
</head>
<body class="cpi-datasets-page">
    {% include "header.html" %}

    <div class="breadcrumb-container">
        <div class="container">
            <div class="breadcrumb">
                <!-- <a href="/index/">Home</a> > 
                <a href="/policies/">Policies</a> > 
                <a href="/diesel_policy/">The Diesel Dilemma</a> > 
                <span>CPI Impact</span> -->
                
                <a href="/index/">Home</a> > 
                <a href="/policies/">Policies</a> > 
                <a href="/diesel_policy/">The Diesel Dilemma</a> > 
                <a href="/cpi_impact/">CPI Impact</a> >
                <span>CPI Data Dashboard</span>
            </div>
        </div>
    </div>

    <!-- Hero/Banner section -->
    <div class="hero-cpi-dataset">
        <h1>CPI Data Dashboard</h1>
    </div>

    <!-- Dashboard Links Section -->
    <section class="dashboard-links">
        <div class="container">
          <a href="/datasets_page/" class="dashboard-link">
              <i class="fas fa-chart-line dashboard-icon"></i>
              Fuel Data Dashboard
          </a>
          <a href="/cpi_impact/" class="dashboard-link">
              <i class="fas fa-tags price-icon"></i>
              Consumer Price Impact
          </a>
          <a href="#" class="dashboard-link">
            <i class="fas fa-industry manufacturing-icon"></i>
            Manufacturing Data Dashboard
        </a>
        </div>
    </section>

    <section class="cpi-datasets-section">
        <!-- Tab navigation - Horizontal tabs below hero -->
        <div class="main-tabs">
            <a href="#" class="tab-link active" data-tab="cpi-line-tab">CPI Data</a>
            <a href="#" class="tab-link" data-tab="state-data-map-tab">State CPI Map</a>
            <a href="#" class="tab-link" data-tab="mcoicop-tab">MCOICOP</a>
            <div class="tab-indicator"></div>
        </div>

        <div class="tab-content active" id="cpi-line-tab">
            <section class="cpi-dashboard-section">
                <div class="section-header diesel-header">
                    <span class="title">CPI Dataset Chart</span>
                </div>

                <div class="cpi-filter-row">
                    <div class="filter-dropdown">
                        <label>Year</label>
                        <div class="dropdown-select">
                            <span>2024</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </div>
                    </div>
                    <div class="filter-dropdown">
                        <label>Region</label>
                        <div class="dropdown-select">
                            <span>Johor</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="section-content">
                    <div class="mcoicop-chart-title">
                        CPI Dataset by State & Division
                    </div>

                    <div class="cpi-chart-container">
                        <canvas class="cpi-chart" id="cpiChart"></canvas>
                    </div>

                    <div class="data-citation">
                        <strong>Data Source:</strong> data.gov.my, 2010-2025<br>
                        <strong>URL:</strong> <a href="https://data.gov.my/data-catalogue/cpi_state" target="_blank">https://data.gov.my/data-catalogue/cpi_state</a><br>
                        <strong>Methodology:</strong> Montly CPI values were collected from official goverment data centers.
                    </div>

                </div>

            </section>

        </div>

        <div class="tab-content" id="state-data-map-tab">
            <div class="page-header">
                <h1 class="page-title">State Impact Map</h1>
                <p class="page-subtitle">Displaying the impacts of the policy on the</p>
            </div>

            <div class="regional-map-container">
                <div class="map-intro">
                    <h3 class="section-title">State Price Impact Map</h3>
                    <p class="section-description">This interactive map shows how the diesel subsidy policy affects different states in Malaysia. Click on a state to see detailed information about price changes in that area.</p>
                    
                    <div class="map-filters">
                        <div class="filter-group">
                            <label for="impactCategorySelect">ðŸ“š Impact Category:</label>
                            <select id="impactCategorySelect" class="form-select">
                                <option value="overall_Rate" selected>Overall Price Impact</option>
                                <option value="transport_Rate">Transportation</option>
                                <option value="food_Rate">Food & Beverages</option>
                                <option value="housing_Rate">Housing & Utilities</option>
                                <option value="restaurant_accommodation_Rate">Restaurants & Accommodation</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="map-visualization-container">
                    <div class="map-wrapper">
                        <!-- Map will be rendered here by Leaflet -->
                        <div id="malaysiaMap"></div>
                        
                        <!-- Map Legend -->
                        <div class="map-legend">
                            <h6>Impact Level</h6>
                            <div class="legend-gradient">
                                <span>Lower Impact</span>
                                <div class="gradient-bar"></div>
                                <span>Higher Impact</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="region-details">
                        <div class="region-header">
                            <h4 id="selectedRegionName">Select a region</h4>
                        </div>
                        
                        <div class="region-impact-summary">
                            <div class="impact-summary-item">
                                <span class="summary-label">Overall Price Impact:</span>
                                <span id="overallImpactValue" class="summary-value impact-medium">-</span>
                            </div>
                        </div>
                        
                        <div class="impact-category-breakdown">
                            <h5>Impact by Category</h5>
                            
                            <div class="impact-category-item">
                                <div class="category-info">
                                    <span class="category-name">Transportation</span>
                                    <span id="transportImpactValue" class="category-value">-</span>
                                </div>
                                <div class="impact-bar-container">
                                    <div id="transportImpactBar" class="impact-bar" style="width: 0%;"></div>
                                </div>
                            </div>
                            
                            <div class="impact-category-item">
                                <div class="category-info">
                                    <span class="category-name">Food & Beverages</span>
                                    <span id="foodImpactValue" class="category-value">-</span>
                                </div>
                                <div class="impact-bar-container">
                                    <div id="foodImpactBar" class="impact-bar" style="width: 0%;"></div>
                                </div>
                            </div>
                            
                            <div class="impact-category-item">
                                <div class="category-info">
                                    <span class="category-name">Housing & Utilities</span>
                                    <span id="housingImpactValue" class="category-value">-</span>
                                </div>
                                <div class="impact-bar-container">
                                    <div id="housingImpactBar" class="impact-bar" style="width: 0%;"></div>
                                </div>
                            </div>
                            
                            <div class="impact-category-item">
                                <div class="category-info">
                                    <span class="category-name">Restaurants & Accommodation</span>
                                    <span id="restaurantImpactValue" class="category-value">-</span>
                                </div>
                                <div class="impact-bar-container">
                                    <div id="restaurantImpactBar" class="impact-bar" style="width: 0%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- <div class="impact-analysis">
                    <div class="impact-analysis-section">
                        <h3>Reasons for regional differences</h3>
                        <p>East Malaysia (Sabah, Sarawak) and the East Coast states (Kelantan, Terengganu, Pahang) are most affected by the diesel price policy adjustment. The main reasons include:</p>
                        <ul>
                            <li>The logistics distance is long and the transportation cost accounts for a high proportion</li>
                            <li>A high proportion of agricultural and fishing activities are dependent on diesel</li>
                            <li>Limited alternative transportation options and high private car usage</li>
                            <li>There are few consumer goods produced locally, and they rely on foreign supplies</li>
                        </ul>
                    </div>
                    
                    <div class="impact-analysis-section">
                        <h3>Targeted policy response</h3>
                        <p>The government has introduced a series of targeted measures for high-impact areas:</p>
                        <ul>
                            <li>Special logistics subsidy scheme for East Malaysia to reduce transportation costs of essential goods</li>
                            <li>Special fuel subsidies for fishermen and farmers in remote areas</li>
                            <li>Investment plans to strengthen food production capacity in East Coast and East Malaysia</li>
                            <li>Long-term planning to expand public transport network coverage</li>
                        </ul>
                    </div>
                </div> -->
            </div>
        </div>

        <div class="tab-content" id="mcoicop-tab">
            <section class="cpi-dashboard-section">
                <div class="section-header diesel-header">
                    <span class="title">MCOICOP Chart</span>
                </div>

                <div class="section-content">
                    <div class="mcoicop-chart-title">
                        Distribution of 5-Digit MCOICOP Subclasses
                    </div>

                    <div class="donut-chart-container">
                        <canvas class="donut-chart" id="mcoicopChart"></canvas>
                    </div>
                    
                    <div class="impact-analysis-section">
                        <h3>Key Insights:</h3>
                        <p>The sections in the chart represents the MCOICOP divisions (2 digit) and the values for each section 
                            represents the number of subclasses (5 digit) for each of the divisions (2 digit). The CPI is calculated 
                            using the CPI value of each of the subclasses (5 digit).</p>
                        <ul>
                            <li>Food & Beverages has the highest weight in the CPI calculation at 27.49%, reflecting its importance in household budgets.</li>
                            <li>Transport accounts for 10.90% of the CPI basket, which explains why the diesel subsidy reform has a significant but no overwelming impact on the overall CPI.</li>
                            <li>Housing & Utilities accounts for 4.74%, representing another household expense.</li>
                        </ul>
                    </div>

                    <div class="data-citation">
                        <strong>Data Source:</strong> data.gov.my, 2018<br>
                        <strong>URL:</strong> <a href="https://open.dosm.gov.my/data-catalogue/mcoicop" target="_blank">https://open.dosm.gov.my/data-catalogue/mcoicop</a><br>
                        <strong>Methodology:</strong> This data provides a complete lookup for 2, 3, 4, and 5-digit codes under Malaysia's COICOP (Classification of Individual Consumption According to Purpose).
                    </div>

                </div>

            </section>

        </div>
        

    </section>

    <!-- Footer -->
    {% include "footer.html" %}

    <script src="/static/assets/js/cpi_datasets.js"></script>
    <script src="/static/assets/js/script.js"></script>
</body>
</html>